<!DOCTYPE html>
<html>

	<head>
		<title>添加轨迹线</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="http://192.168.200.100:8020/RunMapAPI/develop/RMap/RMap.js"></script>
		<style type="text/css">
			body {
				padding: 0;
				margin: 0;
				height: 100%;
			}
			.map {
				position:absolute;
				height: 100%;
				right:0;
				left:0;
			}
			.menuBar {
				position: relative;
				top: 10px;
				left: 50px;
				width: 800px;
				z-index:9999;
			}
			p {
				position: relative;
				left: 50px;
				z-index: 9999;
			}
		</style>
	</head>

	<body>
		<div id="map" class="map"></div>

		<div class="menuBar">
			<input type="button" value="添加轨迹线" onclick="addTrackLine()" />
			<input type="button" value="显示轨迹点" onclick="addTrackPoint()" />
			<input type="button" value="移除轨迹线" onclick="removeLine()" />
			<input type="button" value="移除轨迹点" onclick="removePoint()" />
		</div>
		<p>
			添加轨迹线，附有轨迹方向箭头，有重复轨迹时以弧线展示，并展示重复次数。<br>
			该示例用到接口：addPoint、extentByData、showPopWindow
		</p>
	</body>
	<script>
		 //初始化地图
		var rmap = new RMap.Map('map');
		var points = getTrackPoint();
		 //自定义线样式
		function addTrackLine() {
			rmap.addLine(points, {
				id: "track1",
				width: 2,
				arrowPosition: "middle",
				isShowArrow: true,
				isCenter: true,
				onClick:onClick
			});
//			rmap.extentByData(points);
		};
		function onClick(e){
			e;
		};
		 //添加轨迹点
		function addTrackPoint() {
			for (var i = 0; i < points.length; i++) {
				rmap.addPoint(points[i][0], points[i][1]);
			}
		};
		 //移除轨迹线
		function removeLine() {
			rmap.removeLine("track1");
		};
		 //移除轨迹点
		function removePoint() {
			rmap.removePoint();
		};
		 //获取单条指定路径
		function getTrackPoint() {
			var points = [
				[116.38997554779053, 39.99199390411377],
				[116.37375354766846, 39.99268054962158],
				[116.35924816131592, 40.006327629089355],
				[116.35109424591064, 40.017056465148926],
				[116.37375354766846, 39.99268054962158],
				[116.38997554779053, 39.99199390411377],
				[116.37375354766846, 39.99268054962158],
				[116.38997554779053, 39.99199390411377],
				[116.34000062942505, 40.03420114517212],
				[116.34811162948608, 40.03746271133423],
				[116.34000062942505, 40.03420114517212],
				[116.34811162948608, 40.03746271133423],
				[116.37375354766846, 39.99268054962158],
				[116.38997554779053, 39.99199390411377],
				[116.34995698928833, 40.045015811920166]
			];
			return points;
		}
	</script>

</html>
<!DOCTYPE html>
<html>

	<head>
		<title>获取地图信息</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="http://192.168.200.100:8020/RunMapAPI/develop/RMap/RMap.js"></script>
		<style type="text/css">
			body {
				padding: 0;
				margin: 0;
				height: 100%;
			}
			.map {
				position:absolute;
				height: 100%;
				right:0;
				left:0;
			}
			.menuBar {
				position: relative;
				top: 10px;
				left: 50px;
				width: 800px;
				z-index:9999;
			}
		</style>
	</head>

	<body>
		<div id="map" class="map"></div>
	</body>
	<div class="menuBar">
		<input type="button" value="获取经纬度" onclick="getCoordinate()" />
		<input type="button" value="停止获取" onclick="stopGetCoordinate()" />
		<input type="button" value="获取当前地图范围" onclick="getMapExtent()" />
		<input type="button" value="获取当前地图等级" onclick="getMapLevel()" />
		<label>经度：</label>
		<input id="lngTxt" type="text" style="width:100px" />
		<label>纬度：</label>
		<input id="latTxt" type="text" style="width:100px" />
	</div>
	<script>

		var rmap = new RMap.Map('map');
		
		function getCoordinate() {
			//画点
			rmap.getCoordinate(onResult,{showTime:1000});
		};
		function stopGetCoordinate(){
			rmap.stopGetCoordinate();
		}
		function onResult(e){
			lngTxt.value=e.lng;
			latTxt.value=e.lat;
		}
		function getMapExtent(){
			var e = rmap.getMapExtent();
			var extentStr="xmin:"+e[0]+",ymin:"+e[1]+",xmax:"+e[2]+",ymax:"+e[3];
			alert(extentStr);
		}
		function getMapLevel(){
			var e = rmap.getMapLevel();
			alert(e);
		}

	</script>

</html>